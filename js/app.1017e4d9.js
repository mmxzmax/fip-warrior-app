(function(){"use strict";var e={4918:function(e,a,l){var n=l(5130),t=(l(4114),l(8111),l(116),l(7588),l(1701),l(4979),l(4603),l(7566),l(8721),l(6768)),o=l(144),i=l(4232),u=l(477),s=l(9812),c=l(1540),r=l(4127),v=l(9182),d=l(3837),p=l(1807),f=l(3848),m=l(514),h=l(3441),g=l(8364),k=l(4943),b=l(9398),w=l(8420);const y={class:"app-content"},R={class:"app-main"},A={class:"app-injection-field"},F={class:"app-cat-profile"},C={class:"app-cat-profile"},_={class:"app-cat-profile"},L={class:"app-cat-profile"},X={class:"app-cat-profile"},W={class:"app-cat-profile"},E={class:"app-schema"},V=["src"];var z={__name:"App",setup(e){const a=[1,4,5,2,3,6],l=(0,o.KR)(!1),n=(0,o.KR)(!1),z=(0,o.KR)(""),j=(0,o.KR)(0),x=(0,o.KR)([]);let D=0,O=(0,o.KR)([]);const S=(0,t.EW)((()=>N()));async function U(e=!1){const a=new URL(window.location.href);if(e){const{name:e,weight:l,num:n,gs:t,dayDoze:o,schema:i,points:u}=S.value,s=`${e}|${l}|${n}|${t}|${o}|${i.join(",")}|${u?.find((e=>e.active))?.value}`;a.searchParams.set("add",btoa(encodeURIComponent(s)))}console.log(a.toString()),z.value=await w.toDataURL(a.toString()),n.value=!0}function $(e={name:"",weight:null,num:1,gs:30,dayDoze:8,schema:[...a],activePoint:1}){const l=x.value?.length?x.value?.map((e=>e.id)).sort().reverse()[0]+1:0;console.log(x.value?.map((e=>e.id)).sort().reverse()),x.value.push({id:l,name:e.name,weight:e.weight,num:e.num,gs:e.gs,dayDoze:e.dayDoze,schema:e.schema,points:K(e.schema,e.activePoint)}),j.value=l,Q()}function I(e){if(void 0===e)return;const a=x.value.findIndex((a=>a.id==e));x.value.splice(a,1),j.value=x.value[0]?.id??0,Q()}function Q(e){e&&(x.value.forEach((e=>{const a=[];e.schema.forEach(((l,n)=>{const t=e.schema.findIndex((e=>e==n+1));-1!==t&&a.push(t+1)})),e.schema=a,O.value?.length&&e.points.forEach((a=>{a.active=a.value==e.schema[0]}))})),O.value=[]),localStorage.setItem("fipWarriorCats",JSON.stringify(x.value)),e&&(l.value=!1)}function K(e,a=1){const l=[];for(let n=0;n<e.length;n++)l.push({active:a==n+1,value:n+1,visible:!0,disabled:!1});return l}function P(){const e=JSON.parse(localStorage.getItem("fipWarriorCats")??"[]");x.value=e,j.value=x.value[0]?.id??0;const a=new URLSearchParams(window.location.search),l=a.get("add");if(window.history.pushState({},document.title,window.location.pathname),l){const[a,n,t,o,i,u,s]=decodeURIComponent(atob(l)).split("|"),c={name:a,weight:n,num:t,gs:o,dayDoze:i,schema:u.split(",").map((e=>+e)),activePoint:s},r=e.find((e=>e.name==c.name));if(r){const e=confirm(`Cat ${c.name} exist update?`);e&&(r.name=c.name,r.weight=c.weight,r.num=c.num,r.gs=c.gs,r.dayDoze=c.dayDoze,r.schema=c.schema,r.points=K(c.schema,c.activePoint))}else{const e=confirm(`Add new cat ${c.name} ?`);e&&$(c)}}}function N(){return x.value.find((e=>e.id==j.value))}function q(e){e.schema.push(e.schema.length+1,e.schema.length+2),e.points=K(e.schema),Q()}function B(e){e.schema.splice(e.schema.length-2,2),e.points=K(e.schema),Q()}function G(e,a){e.schema[a]=D+1,D++,O.value[a]=!0,D>=e.schema.length&&(D=0)}function J(e=!1){const a=N(),l=a.points.find((e=>e.active));let n=a.schema.findIndex((e=>e==l.value));n++,n>=a.schema?.length&&(n=0);const t=a.points.find((e=>e.value==a.schema[n]));l.active=!1,t.active=!0,e||a.num++,Q()}return P(),(e,a)=>((0,t.uX)(),(0,t.CE)("div",y,[(0,t.bF)((0,o.R1)(p.A),{value:j.value,"onUpdate:value":a[7]||(a[7]=e=>j.value=e)},{default:(0,t.k6)((()=>[(0,t.bF)((0,o.R1)(f.A),null,{default:(0,t.k6)((()=>[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(x.value,((e,a)=>((0,t.uX)(),(0,t.Wv)((0,o.R1)(m.A),{key:a,value:e.id},{default:(0,t.k6)((()=>[(0,t.bF)((0,o.R1)(s.A),{value:e.num},{default:(0,t.k6)((()=>[(0,t.bF)((0,o.R1)(c.A),{label:e.name},null,8,["label"])])),_:2},1032,["value"])])),_:2},1032,["value"])))),128))])),_:1}),x.value?.length?((0,t.uX)(),(0,t.Wv)((0,o.R1)(h.A),{key:0},{default:(0,t.k6)((()=>[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(x.value,((e,l)=>((0,t.uX)(),(0,t.Wv)((0,o.R1)(g.A),{key:l,value:e.id},{default:(0,t.k6)((()=>[(0,t.Lk)("div",R,[a[19]||(a[19]=(0,t.Lk)("svg",{viewBox:"0 0 210 297",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:svg":"http://www.w3.org/2000/svg"},[(0,t.Lk)("path",{d:"M 209.05265,251.28502 C 196.24401,171.51603 158.327,6.3946197 158.32771,6.388979 c -0.46331,-2.56146 -2.31727,-4.4243387 -4.86629,-5.12292 -2.31736,-0.69853962 -5.09812,0 -6.9519,1.8628788 l -9.96443,10.0129672 c -6.9519,7.218664 -15.85882,17.117273 -26.05498,17.117273 -10.19616,0 -20.291082,-9.898609 -27.242996,-17.117273 L 73.282706,3.1289378 C 71.428924,1.266059 68.879818,0.56747783 66.330792,1.266059 c -2.549013,0.6985329 -4.402886,2.7943181 -4.866288,5.12292 0,0 -44.416077,162.926631 -59.0047257,243.111091 -1.52064919,76.02646 205.7395117,75.01994 206.5928717,1.78495 z",fill:"#444b54","clip-path":"none",style:{"stroke-width":"2.32294"}})],-1)),x.value?.length?((0,t.uX)(),(0,t.Wv)((0,o.R1)(u.A),{key:0,class:"share-button",icon:"pi pi-qrcode",onClick:a[0]||(a[0]=e=>U(!!x.value?.length))})):(0,t.Q3)("",!0),(0,t.Lk)("div",A,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(e.points,((e,l)=>((0,t.uX)(),(0,t.CE)("div",{key:e.value,class:"app-injection-point"},[(0,t.bF)((0,o.R1)(s.A),{value:l+1},{default:(0,t.k6)((()=>[e.active?((0,t.uX)(),(0,t.Wv)((0,o.R1)(u.A),{key:0,onClick:a[1]||(a[1]=e=>J()),icon:"pi pi-check",rounded:""})):(0,t.Q3)("",!0),e.active?(0,t.Q3)("",!0):((0,t.uX)(),(0,t.Wv)((0,o.R1)(u.A),{key:1,disabled:"true",icon:"pi pi-times",severity:"danger",rounded:""}))])),_:2},1032,["value"])])))),128))])])])),_:2},1032,["value"])))),128))])),_:1})):(0,t.Q3)("",!0),(0,t.bF)((0,o.R1)(b.A),{class:"app-footer"},{start:(0,t.k6)((()=>[x.value?.length?((0,t.uX)(),(0,t.Wv)((0,o.R1)(c.A),{key:0,label:`${S.value?.weight} kg`},null,8,["label"])):(0,t.Q3)("",!0)])),center:(0,t.k6)((()=>[x.value?.length?((0,t.uX)(),(0,t.Wv)((0,o.R1)(c.A),{key:0,label:`${(S.value?.weight*S.value?.dayDoze/S.value?.gs).toFixed(2)} ml`},null,8,["label"])):(0,t.Q3)("",!0)])),end:(0,t.k6)((()=>[x.value?.length?((0,t.uX)(),(0,t.Wv)((0,o.R1)(u.A),{key:0,style:{"margin-right":"0.5rem"},label:"mark point",onClick:a[2]||(a[2]=e=>J(!1))})):(0,t.Q3)("",!0),x.value?.length?((0,t.uX)(),(0,t.Wv)((0,o.R1)(u.A),{key:1,style:{"margin-right":"0.5rem"},label:"skip point",onClick:a[3]||(a[3]=e=>J(!0))})):(0,t.Q3)("",!0),x.value?.length?((0,t.uX)(),(0,t.Wv)((0,o.R1)(u.A),{key:2,style:{"margin-left":"auto"},class:"edit-button",label:"edit",onClick:a[4]||(a[4]=e=>l.value=!0)})):(0,t.Q3)("",!0),(0,t.bF)((0,o.R1)(u.A),{style:{"margin-left":"0.5rem"},label:"Add cat",onClick:a[5]||(a[5]=e=>{l.value=!0,$()})}),x.value?.length?(0,t.Q3)("",!0):((0,t.uX)(),(0,t.Wv)((0,o.R1)(u.A),{key:3,style:{"margin-left":"auto"},icon:"pi pi-qrcode",onClick:a[6]||(a[6]=e=>U(!1))}))])),_:1})])),_:1},8,["value"]),(0,t.bF)((0,o.R1)(d.A),{visible:l.value,"onUpdate:visible":a[17]||(a[17]=e=>l.value=e),modal:"",header:"Edit Profile",style:{width:"25rem"}},{default:(0,t.k6)((()=>[x.value?.length?((0,t.uX)(),(0,t.Wv)((0,o.R1)(k.A),{key:0},{default:(0,t.k6)((()=>[(0,t.Lk)("div",null,[(0,t.bF)((0,o.R1)(b.A),null,{start:(0,t.k6)((()=>[(0,t.eW)((0,i.v_)(S.value?.name),1)])),end:(0,t.k6)((()=>[(0,t.bF)((0,o.R1)(u.A),{icon:"pi pi-trash",onClick:a[8]||(a[8]=e=>I(S.value?.id)),severity:"danger"})])),_:1}),(0,t.Lk)("div",F,[(0,t.bF)((0,o.R1)(r.A),null,{default:(0,t.k6)((()=>[(0,t.bF)((0,o.R1)(v.A),{id:"catName",modelValue:S.value.name,"onUpdate:modelValue":a[9]||(a[9]=e=>S.value.name=e)},null,8,["modelValue"]),a[20]||(a[20]=(0,t.Lk)("label",{for:"catName"},"name",-1))])),_:1})]),(0,t.Lk)("div",C,[(0,t.bF)((0,o.R1)(r.A),null,{default:(0,t.k6)((()=>[(0,t.bF)((0,o.R1)(v.A),{id:"catWeight",modelValue:S.value.weight,"onUpdate:modelValue":a[10]||(a[10]=e=>S.value.weight=e)},null,8,["modelValue"]),a[21]||(a[21]=(0,t.Lk)("label",{for:"catWeight"},"weight",-1))])),_:1})]),(0,t.Lk)("div",_,[(0,t.bF)((0,o.R1)(r.A),null,{default:(0,t.k6)((()=>[(0,t.bF)((0,o.R1)(v.A),{id:"catGS",modelValue:S.value.gs,"onUpdate:modelValue":a[11]||(a[11]=e=>S.value.gs=e)},null,8,["modelValue"]),a[22]||(a[22]=(0,t.Lk)("label",{for:"catGS"},"gs-441524 concentration",-1))])),_:1})]),(0,t.Lk)("div",L,[(0,t.bF)((0,o.R1)(r.A),null,{default:(0,t.k6)((()=>[(0,t.bF)((0,o.R1)(v.A),{id:"catdayDoze",modelValue:S.value.dayDoze,"onUpdate:modelValue":a[12]||(a[12]=e=>S.value.dayDoze=e)},null,8,["modelValue"]),a[23]||(a[23]=(0,t.Lk)("label",{for:"catdayDoze"},"gs-441524 daydoze",-1))])),_:1})]),(0,t.Lk)("div",X,[(0,t.bF)((0,o.R1)(r.A),null,{default:(0,t.k6)((()=>[(0,t.bF)((0,o.R1)(v.A),{id:"injectionCount",modelValue:S.value.num,"onUpdate:modelValue":a[13]||(a[13]=e=>S.value.num=e)},null,8,["modelValue"]),a[24]||(a[24]=(0,t.Lk)("label",{for:"injectionCount"},"injection",-1))])),_:1})]),(0,t.Lk)("div",W,[(0,t.Lk)("ol",E,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(S.value?.points,((e,a)=>((0,t.uX)(),(0,t.CE)("li",{key:a},[(0,t.bF)((0,o.R1)(u.A),{label:(0,o.R1)(O)[a]?S.value.schema[a]:"*",onClick:e=>G(S.value,a)},null,8,["label","onClick"])])))),128))]),(0,t.bF)((0,o.R1)(b.A),null,{start:(0,t.k6)((()=>[(0,t.bF)((0,o.R1)(u.A),{icon:"pi pi-minus",onClick:a[14]||(a[14]=e=>B(S.value))})])),end:(0,t.k6)((()=>[(0,t.bF)((0,o.R1)(u.A),{icon:"pi pi-plus",onClick:a[15]||(a[15]=e=>q(S.value))})])),_:1})])])])),_:1})):(0,t.Q3)("",!0),(0,t.bF)((0,o.R1)(b.A),null,{end:(0,t.k6)((()=>[(0,t.bF)((0,o.R1)(u.A),{label:"Save",onClick:a[16]||(a[16]=e=>Q(!0))})])),_:1})])),_:1},8,["visible"]),(0,t.bF)((0,o.R1)(d.A),{visible:n.value,"onUpdate:visible":a[18]||(a[18]=e=>n.value=e),modal:"",header:"Share"},{default:(0,t.k6)((()=>[(0,t.Lk)("img",{src:z.value},null,8,V)])),_:1},8,["visible"])]))}};const j=z;var x=j,D=l(4458);(0,D.k)("/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}});var O=l(782),S=(0,O.y$)({state:{},getters:{},mutations:{},actions:{},modules:{}}),U=l(8253),$=l(288);(0,n.Ef)(x).use(S).use(U.Ay,{theme:{preset:$.A}}).mount("#app")}},a={};function l(n){var t=a[n];if(void 0!==t)return t.exports;var o=a[n]={exports:{}};return e[n].call(o.exports,o,o.exports,l),o.exports}l.m=e,function(){var e=[];l.O=function(a,n,t,o){if(!n){var i=1/0;for(r=0;r<e.length;r++){n=e[r][0],t=e[r][1],o=e[r][2];for(var u=!0,s=0;s<n.length;s++)(!1&o||i>=o)&&Object.keys(l.O).every((function(e){return l.O[e](n[s])}))?n.splice(s--,1):(u=!1,o<i&&(i=o));if(u){e.splice(r--,1);var c=t();void 0!==c&&(a=c)}}return a}o=o||0;for(var r=e.length;r>0&&e[r-1][2]>o;r--)e[r]=e[r-1];e[r]=[n,t,o]}}(),function(){l.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(a,{a:a}),a}}(),function(){l.d=function(e,a){for(var n in a)l.o(a,n)&&!l.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:a[n]})}}(),function(){l.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){l.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)}}(),function(){var e={524:0};l.O.j=function(a){return 0===e[a]};var a=function(a,n){var t,o,i=n[0],u=n[1],s=n[2],c=0;if(i.some((function(a){return 0!==e[a]}))){for(t in u)l.o(u,t)&&(l.m[t]=u[t]);if(s)var r=s(l)}for(a&&a(n);c<i.length;c++)o=i[c],l.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return l.O(r)},n=self["webpackChunkfip_warrior_app"]=self["webpackChunkfip_warrior_app"]||[];n.forEach(a.bind(null,0)),n.push=a.bind(null,n.push.bind(n))}();var n=l.O(void 0,[504],(function(){return l(4918)}));n=l.O(n)})();
//# sourceMappingURL=app.1017e4d9.js.map